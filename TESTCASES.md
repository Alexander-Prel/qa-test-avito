# Тест-кейсы для API микросервиса объявлений

## Общая информация
- **Host**: https://qa-internship.avito.com

---

## 1. Создание объявления (POST)

### TC-001: Успешное создание объявления с валидными данными
**Предусловия**: Нет  
**Шаги**:
1. Отправить POST запрос на `/ads` с валидными данными:
   - `sellerId`: уникальный ID в диапазоне 111111-999999
   - `title`: строка
   - `description`: строка
   - `price`: положительное число

**Ожидаемый результат**:
- Статус код: 201 (Created)
- В ответе присутствует поле `id` (уникальный идентификатор объявления)
- Все переданные поля сохранены корректно

---

### TC-002: Создание объявления без обязательных полей
**Предусловия**: Нет  
**Шаги**:
1. Отправить POST запрос на `/ads` без обязательных полей (например, без `title`)

**Ожидаемый результат**:
- Статус код: 400 (Bad Request) или 422 (Unprocessable Entity)
- В ответе присутствует описание ошибки

---

### TC-003: Создание объявления с невалидным типом данных
**Предусловия**: Нет  
**Шаги**:
1. Отправить POST запрос на `/ads` с невалидными данными:
   - `price`: строка вместо числа

**Ожидаемый результат**:
- Статус код: 400 (Bad Request) или 422 (Unprocessable Entity)
- В ответе присутствует описание ошибки

---

### TC-004: Создание объявления с отрицательной ценой
**Предусловия**: Нет  
**Шаги**:
1. Отправить POST запрос на `/ads` с отрицательным значением `price`

**Ожидаемый результат**:
- Статус код: 400 (Bad Request) или 422 (Unprocessable Entity)
- В ответе присутствует описание ошибки

---

## 2. Получение объявления по идентификатору (GET)

### TC-005: Успешное получение существующего объявления
**Предусловия**: Создано объявление с известным ID  
**Шаги**:
1. Отправить GET запрос на `/ads/{id}` с валидным ID существующего объявления

**Ожидаемый результат**:
- Статус код: 200 (OK)
- В ответе присутствуют все поля объявления
- Значения полей соответствуют созданному объявлению

---

### TC-006: Получение несуществующего объявления
**Предусловия**: Нет  
**Шаги**:
1. Отправить GET запрос на `/ads/{id}` с несуществующим ID (например, 999999999)

**Ожидаемый результат**:
- Статус код: 404 (Not Found)
- В ответе присутствует описание ошибки

---

### TC-007: Получение объявления с невалидным форматом ID
**Предусловия**: Нет  
**Шаги**:
1. Отправить GET запрос на `/ads/{id}` с невалидным форматом ID (например, строка "abc")

**Ожидаемый результат**:
- Статус код: 400 (Bad Request) или 404 (Not Found)
- В ответе присутствует описание ошибки

---

## 3. Получение всех объявлений по идентификатору продавца (GET)

### TC-008: Успешное получение объявлений существующего продавца
**Предусловия**: Создано несколько объявлений от одного продавца  
**Шаги**:
1. Отправить GET запрос на `/ads/seller/{sellerId}` с валидным ID продавца

**Ожидаемый результат**:
- Статус код: 200 (OK)
- В ответе присутствует массив объявлений
- Все объявления принадлежат указанному продавцу
- Количество объявлений соответствует созданным

---

### TC-009: Получение объявлений несуществующего продавца
**Предусловия**: Нет  
**Шаги**:
1. Отправить GET запрос на `/ads/seller/{sellerId}` с несуществующим ID продавца

**Ожидаемый результат**:
- Статус код: 200 (OK) с пустым массивом или 404 (Not Found)
- В ответе пустой массив или описание ошибки

---

### TC-010: Получение объявлений продавца без объявлений
**Предусловия**: Создан продавец, но без объявлений  
**Шаги**:
1. Отправить GET запрос на `/ads/seller/{sellerId}` для продавца без объявлений

**Ожидаемый результат**:
- Статус код: 200 (OK)
- В ответе пустой массив `[]`

---

## 4. Получение статистики по объявлению (GET)

### TC-011: Успешное получение статистики существующего объявления
**Предусловия**: Создано объявление с известным ID  
**Шаги**:
1. Отправить GET запрос на `/ads/{id}/stats` с валидным ID существующего объявления

**Ожидаемый результат**:
- Статус код: 200 (OK)
- В ответе присутствуют поля статистики (например, количество просмотров, дата создания и т.д.)

---

### TC-012: Получение статистики несуществующего объявления
**Предусловия**: Нет  
**Шаги**:
1. Отправить GET запрос на `/ads/{id}/stats` с несуществующим ID

**Ожидаемый результат**:
- Статус код: 404 (Not Found)
- В ответе присутствует описание ошибки

---

### TC-013: Получение статистики с невалидным форматом ID
**Предусловия**: Нет  
**Шаги**:
1. Отправить GET запрос на `/ads/{id}/stats` с невалидным форматом ID

**Ожидаемый результат**:
- Статус код: 400 (Bad Request) или 404 (Not Found)
- В ответе присутствует описание ошибки

---

## Дополнительные тест-кейсы

### TC-014: Проверка уникальности ID объявления
**Предусловия**: Нет  
**Шаги**:
1. Создать несколько объявлений
2. Проверить, что все ID уникальны

**Ожидаемый результат**:
- Все созданные объявления имеют уникальные ID

---

### TC-015: Проверка сохранения данных объявления
**Предусловия**: Нет  
**Шаги**:
1. Создать объявление с известными данными
2. Получить объявление по ID
3. Сравнить данные

**Ожидаемый результат**:
- Все данные сохранены и получены корректно
- Значения полей идентичны

---

### TC-016: Проверка работы с разными продавцами
**Предусловия**: Нет  
**Шаги**:
1. Создать объявления от разных продавцов
2. Получить объявления для каждого продавца

**Ожидаемый результат**:
- Каждый продавец видит только свои объявления
- Объявления не смешиваются между продавцами
